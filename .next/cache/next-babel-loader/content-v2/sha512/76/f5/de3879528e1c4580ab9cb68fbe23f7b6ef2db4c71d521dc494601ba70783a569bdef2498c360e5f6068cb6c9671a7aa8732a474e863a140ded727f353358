{"ast":null,"code":"// const { MongoClient, ServerApiVersion } = require('mongodb');\n// const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true, serverApi: ServerApiVersion.v1 });\n// client.connect(err => {\n//   const collection = client.db(\"test\").collection(\"devices\");\n//   // perform actions on the collection object\n//   client.close();\n// });\nconst uri = \"mongodb+srv://Zuriel:iLprbzpf42e8VJJ7@cluster0.7loqa.mongodb.net/meetups?retryWrites=true&w=majority\";\nimport { MongoClient } from \"mongodb\"; // /api/new-meetup\n// POST /api/new-meetup\n\nasync function handler(request, res) {\n  if (request.method === \"POST\") {\n    const data = request.body;\n\n    try {\n      const client = await MongoClient.connect(uri);\n      const db = client.db();\n      const meetupsCollection = db.collection(\"meetups\");\n      const result = await meetupsCollection.insertOne(data);\n      console.log(result);\n      client.close();\n      res.status(201).json({\n        message: \"Meetup inserted!\"\n      });\n    } catch (error) {}\n\n    console.log(data);\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["C:/Users/Blind2k/Development/Learn React-udemy/First Time Programmed/316.Next.js/NextJsBasicModal/pages/api/newmeetupapi.js"],"names":["uri","MongoClient","handler","request","res","method","data","body","client","connect","db","meetupsCollection","collection","result","insertOne","console","log","close","status","json","message","error"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,GAAG,GAAG,sGAAZ;AAEA,SAASC,WAAT,QAA4B,SAA5B,C,CAEA;AACA;;AAEA,eAAeC,OAAf,CAAuBC,OAAvB,EAAgCC,GAAhC,EAAqC;AAClC,MAAID,OAAO,CAACE,MAAR,KAAmB,MAAvB,EAA+B;AAC5B,UAAMC,IAAI,GAAGH,OAAO,CAACI,IAArB;;AACA,QAAI;AACD,YAAMC,MAAM,GAAG,MAAMP,WAAW,CAACQ,OAAZ,CAAoBT,GAApB,CAArB;AACA,YAAMU,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AAEA,YAAMC,iBAAiB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAA1B;AAEA,YAAMC,MAAM,GAAG,MAAMF,iBAAiB,CAACG,SAAlB,CAA4BR,IAA5B,CAArB;AAEAS,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AAEAL,MAAAA,MAAM,CAACS,KAAP;AAEAb,MAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB;AAEF,KAdD,CAcE,OAAOC,KAAP,EAAc,CAEf;;AACDN,IAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AACF;AACH;;AAED,eAAeJ,OAAf","sourcesContent":["// const { MongoClient, ServerApiVersion } = require('mongodb');\n// const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true, serverApi: ServerApiVersion.v1 });\n// client.connect(err => {\n//   const collection = client.db(\"test\").collection(\"devices\");\n//   // perform actions on the collection object\n//   client.close();\n// });\nconst uri = \"mongodb+srv://Zuriel:iLprbzpf42e8VJJ7@cluster0.7loqa.mongodb.net/meetups?retryWrites=true&w=majority\";\n\nimport { MongoClient } from \"mongodb\";\n\n// /api/new-meetup\n// POST /api/new-meetup\n\nasync function handler(request, res) {\n   if (request.method === \"POST\") {\n      const data = request.body;\n      try {\n         const client = await MongoClient.connect(uri);\n         const db = client.db();\n   \n         const meetupsCollection = db.collection(\"meetups\");\n   \n         const result = await meetupsCollection.insertOne(data);\n   \n         console.log(result);\n   \n         client.close();\n   \n         res.status(201).json({ message: \"Meetup inserted!\" });\n         \n      } catch (error) {\n         \n      }\n      console.log(data);\n   }\n}\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}