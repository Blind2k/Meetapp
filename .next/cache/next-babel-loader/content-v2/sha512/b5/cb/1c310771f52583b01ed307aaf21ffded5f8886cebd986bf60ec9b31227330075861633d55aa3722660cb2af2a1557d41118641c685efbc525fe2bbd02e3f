{"ast":null,"code":"// const { MongoClient, ServerApiVersion } = require('mongodb');\n// const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true, serverApi: ServerApiVersion.v1 });\n// client.connect(err => {\n//   const collection = client.db(\"test\").collection(\"devices\");\n//   // perform actions on the collection object\n//   client.close();\n// });\nimport { MongoClient } from \"mongodb\";\nconst uri = \"mongodb+srv://Zuriel:NWNKxS6tB6orX4dp@cluster0.7loqa.mongodb.net/myFirstDatabase?retryWrites=true&w=majority\";\n\nasync function newmeetupapi(request, response) {\n  if (request === \"POST\") {\n    const data = request.body;\n    console.log(\"data\", data); // CONNECT TO DATABASE\n\n    try {\n      const clientFetch = await MongoClient.connect(uri);\n      const database = data.db();\n      const dbCollection = database.collection(\"meetups\");\n      const result = await dbCollection.insertOne(data);\n      console.log(result);\n      clientFetch.close();\n      response.status(201).stringyfy({\n        message: \"Data inserted\"\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\n;\nexport default newmeetupapi;","map":{"version":3,"sources":["C:/Users/Blind2k/Development/Learn React-udemy/First Time Programmed/316.Next.js/NextJsBasicModal/pages/api/newmeetupapi.js"],"names":["MongoClient","uri","newmeetupapi","request","response","data","body","console","log","clientFetch","connect","database","db","dbCollection","collection","result","insertOne","close","status","stringyfy","message","error"],"mappings":"AACA;AACA;AACA;AACG;AACA;AACA;AACA;AAEA,SAASA,WAAT,QAA4B,SAA5B;AAEA,MAAMC,GAAG,GAAG,8GAAZ;;AACA,eAAeC,YAAf,CAA6BC,OAA7B,EAAsCC,QAAtC,EAAgD;AAC7C,MAAID,OAAO,KAAK,MAAhB,EAAwB;AACrB,UAAME,IAAI,GAAGF,OAAO,CAACG,IAArB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,IAApB,EAFqB,CAGrB;;AACA,QAAI;AACD,YAAMI,WAAW,GAAG,MAAMT,WAAW,CAACU,OAAZ,CAAoBT,GAApB,CAA1B;AACA,YAAMU,QAAQ,GAAGN,IAAI,CAACO,EAAL,EAAjB;AACA,YAAMC,YAAY,GAAGF,QAAQ,CAACG,UAAT,CAAoB,SAApB,CAArB;AAEA,YAAMC,MAAM,GAAG,MAAMF,YAAY,CAACG,SAAb,CAAuBX,IAAvB,CAArB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYO,MAAZ;AAEAN,MAAAA,WAAW,CAACQ,KAAZ;AACAb,MAAAA,QAAQ,CAACc,MAAT,CAAgB,GAAhB,EAAqBC,SAArB,CAA+B;AAACC,QAAAA,OAAO,EAAE;AAAV,OAA/B;AAEF,KAXD,CAWE,OAAOC,KAAP,EAAc;AACbd,MAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ;AACF;AACH;AACH;;AAAA;AAEJ,eAAenB,YAAf","sourcesContent":["\n// const { MongoClient, ServerApiVersion } = require('mongodb');\n// const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true, serverApi: ServerApiVersion.v1 });\n// client.connect(err => {\n   //   const collection = client.db(\"test\").collection(\"devices\");\n   //   // perform actions on the collection object\n   //   client.close();\n   // });\n   \n   import { MongoClient } from \"mongodb\";\n   \n   const uri = \"mongodb+srv://Zuriel:NWNKxS6tB6orX4dp@cluster0.7loqa.mongodb.net/myFirstDatabase?retryWrites=true&w=majority\";\n   async function newmeetupapi (request, response) {\n      if (request === \"POST\") {\n         const data = request.body;         \n         console.log(\"data\", data)\n         // CONNECT TO DATABASE\n         try {\n            const clientFetch = await MongoClient.connect(uri);\n            const database = data.db();\n            const dbCollection = database.collection(\"meetups\");\n   \n            const result = await dbCollection.insertOne(data);\n            console.log(result);\n   \n            clientFetch.close();\n            response.status(201).stringyfy({message: \"Data inserted\"});\n            \n         } catch (error) {\n            console.log(error)\n         }\n      } \n   };\n\nexport default newmeetupapi;"]},"metadata":{},"sourceType":"module"}